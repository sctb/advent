#include <stdio.h>
#include <stdlib.h>
#include <string.h>

#define X	101
#define XM	50
#define Y	103

struct pos {
  int x;
  int y;
};

struct vel {
  int x;
  int y;
};

struct robot {
  struct pos p;
  struct vel v;
};

static int nrobots = 500;

static struct robot robots[] = {
  {{1, 79}, {-93, 36}},
  {{37, 71}, {-49, 11}},
  {{26, 56}, {43, 78}},
  {{15, 6}, {8, -45}},
  {{28, 22}, {89, -32}},
  {{55, 52}, {99, -59}},
  {{55, 28}, {-51, -53}},
  {{42, 8}, {-50, 14}},
  {{57, 38}, {-31, 16}},
  {{14, 102}, {-56, 84}},
  {{41, 20}, {-73, -17}},
  {{74, 40}, {-79, 71}},
  {{96, 83}, {-10, -85}},
  {{63, 66}, {55, -7}},
  {{85, 89}, {71, 95}},
  {{11, 58}, {-36, 45}},
  {{97, 72}, {14, 3}},
  {{94, 16}, {-56, -48}},
  {{71, 15}, {-92, -49}},
  {{4, 9}, {3, 72}},
  {{84, 45}, {20, 93}},
  {{84, 13}, {-61, -68}},
  {{42, 31}, {72, 71}},
  {{10, 62}, {-79, 80}},
  {{54, 21}, {-42, -17}},
  {{35, 55}, {87, 38}},
  {{32, 56}, {28, 89}},
  {{98, 52}, {-63, 67}},
  {{98, 65}, {49, 74}},
  {{32, 9}, {-77, 41}},
  {{98, 18}, {-28, 72}},
  {{30, 16}, {-33, -63}},
  {{52, 101}, {-97, 43}},
  {{35, 39}, {-16, -10}},
  {{67, 94}, {48, -16}},
  {{21, 69}, {24, 66}},
  {{46, 69}, {-50, -6}},
  {{2, 24}, {-60, -70}},
  {{6, 88}, {-87, -89}},
  {{33, 96}, {64, 69}},
  {{29, 80}, {34, 22}},
  {{52, 23}, {83, 57}},
  {{93, 11}, {93, 10}},
  {{13, 78}, {-1, -37}},
  {{66, 28}, {-90, -24}},
  {{21, 101}, {-25, 32}},
  {{71, 89}, {-46, 87}},
  {{5, 94}, {91, 47}},
  {{43, 40}, {22, 73}},
  {{92, 12}, {18, -82}},
  {{22, 20}, {43, -83}},
  {{3, 45}, {-41, 93}},
  {{95, 17}, {53, -94}},
  {{43, 6}, {-99, -84}},
  {{6, 73}, {-93, 78}},
  {{32, 37}, {-23, -81}},
  {{18, 42}, {38, 82}},
  {{85, 77}, {71, 84}},
  {{2, 64}, {49, 15}},
  {{95, 40}, {-74, 82}},
  {{47, 90}, {-18, -19}},
  {{36, 75}, {-91, -36}},
  {{80, 26}, {-72, -46}},
  {{5, 59}, {-94, -66}},
  {{49, 55}, {-53, 37}},
  {{100, 3}, {82, 17}},
  {{34, 28}, {77, -4}},
  {{33, 8}, {41, 87}},
  {{78, 7}, {-5, -14}},
  {{15, 7}, {45, 94}},
  {{14, 94}, {67, 95}},
  {{38, 0}, {-16, 76}},
  {{34, 10}, {-86, -57}},
  {{15, 57}, {-5, 1}},
  {{26, 52}, {-36, -3}},
  {{80, 37}, {16, -87}},
  {{61, 44}, {83, 82}},
  {{69, 9}, {-49, 93}},
  {{70, 65}, {-45, 26}},
  {{39, 2}, {-58, 47}},
  {{59, 98}, {13, 80}},
  {{94, 42}, {60, -32}},
  {{5, 39}, {-68, 84}},
  {{94, 82}, {-39, -93}},
  {{58, 82}, {-51, 91}},
  {{34, 1}, {-82, 50}},
  {{90, 60}, {-39, 4}},
  {{25, 24}, {63, 35}},
  {{39, 57}, {28, 52}},
  {{15, 63}, {-67, -11}},
  {{78, 40}, {-33, 34}},
  {{16, 66}, {26, 24}},
  {{49, 74}, {-86, -30}},
  {{61, 23}, {79, -39}},
  {{64, 65}, {11, -66}},
  {{39, 98}, {-47, 35}},
  {{100, 98}, {7, -52}},
  {{50, 27}, {-43, 52}},
  {{92, 9}, {-81, -83}},
  {{78, 57}, {60, 31}},
  {{5, 62}, {-54, -66}},
  {{97, 97}, {-19, -23}},
  {{53, 77}, {3, 61}},
  {{67, 12}, {25, 4}},
  {{62, 51}, {-81, 12}},
  {{24, 62}, {-14, 99}},
  {{50, 74}, {-7, -22}},
  {{10, 83}, {-67, -37}},
  {{65, 86}, {57, 84}},
  {{0, 29}, {-63, 42}},
  {{42, 61}, {76, 85}},
  {{39, 49}, {59, 36}},
  {{100, 4}, {-74, 36}},
  {{36, 99}, {-72, 32}},
  {{51, 20}, {-7, -78}},
  {{85, 18}, {-37, -31}},
  {{57, 0}, {79, -93}},
  {{78, 29}, {-81, -28}},
  {{87, 102}, {-83, 20}},
  {{21, 81}, {-78, 44}},
  {{16, 52}, {12, 32}},
  {{33, 99}, {-67, -63}},
  {{19, 39}, {52, -73}},
  {{71, 39}, {-13, 23}},
  {{22, 36}, {32, 93}},
  {{91, 47}, {95, 34}},
  {{23, 49}, {-7, 1}},
  {{51, 38}, {-12, -75}},
  {{80, 35}, {97, -6}},
  {{25, 83}, {54, 49}},
  {{47, 97}, {9, -25}},
  {{87, 73}, {7, -59}},
  {{79, 92}, {-20, -1}},
  {{40, 11}, {13, 50}},
  {{83, 71}, {-13, -24}},
  {{69, 13}, {-1, -33}},
  {{98, 8}, {51, 80}},
  {{12, 39}, {34, -58}},
  {{52, 40}, {21, 20}},
  {{16, 0}, {-15, 54}},
  {{22, 52}, {76, -58}},
  {{23, 43}, {-25, 49}},
  {{80, 81}, {-37, -19}},
  {{45, 95}, {-7, -34}},
  {{59, 19}, {81, -57}},
  {{21, 56}, {11, -44}},
  {{14, 9}, {56, -47}},
  {{75, 49}, {9, 45}},
  {{45, 95}, {-66, 14}},
  {{24, 45}, {54, 23}},
  {{82, 3}, {-4, 25}},
  {{22, 72}, {-79, -96}},
  {{80, 86}, {51, 93}},
  {{50, 102}, {94, 84}},
  {{42, 26}, {-71, 72}},
  {{57, 45}, {-88, -62}},
  {{44, 61}, {85, -58}},
  {{67, 3}, {-90, -20}},
  {{23, 35}, {85, -55}},
  {{64, 101}, {11, 73}},
  {{73, 95}, {46, -96}},
  {{60, 40}, {48, -87}},
  {{58, 4}, {-88, 32}},
  {{60, 77}, {-2, 99}},
  {{78, 45}, {-33, 34}},
  {{19, 13}, {54, 75}},
  {{80, 59}, {97, -80}},
  {{97, 0}, {38, 76}},
  {{54, 47}, {-31, 12}},
  {{10, 85}, {41, 27}},
  {{29, 54}, {65, -18}},
  {{73, 87}, {-68, -74}},
  {{44, 86}, {57, 78}},
  {{42, 52}, {28, 23}},
  {{5, 30}, {51, 7}},
  {{41, 1}, {90, -2}},
  {{19, 9}, {45, 83}},
  {{85, 84}, {49, -11}},
  {{80, 69}, {-48, 96}},
  {{5, 46}, {-54, -21}},
  {{87, 58}, {97, -33}},
  {{69, 2}, {59, 88}},
  {{28, 15}, {5, 97}},
  {{6, 57}, {1, -7}},
  {{36, 102}, {-11, -92}},
  {{17, 27}, {80, -20}},
  {{47, 102}, {83, 84}},
  {{32, 23}, {42, 90}},
  {{45, 56}, {-84, -62}},
  {{74, 51}, {88, 38}},
  {{42, 61}, {-95, -15}},
  {{41, 11}, {-36, -35}},
  {{94, 55}, {-15, -13}},
  {{93, 44}, {73, -36}},
  {{38, 22}, {74, 86}},
  {{35, 49}, {63, -95}},
  {{18, 46}, {-11, 42}},
  {{49, 42}, {4, -10}},
  {{26, 80}, {46, 71}},
  {{73, 71}, {-13, -96}},
  {{7, 91}, {-80, 69}},
  {{38, 63}, {21, 98}},
  {{41, 75}, {-95, 88}},
  {{33, 53}, {-3, -14}},
  {{93, 89}, {-43, 43}},
  {{20, 26}, {-23, -98}},
  {{87, 40}, {-50, 78}},
  {{16, 60}, {93, -47}},
  {{55, 1}, {92, -60}},
  {{72, 98}, {-86, -7}},
  {{81, 40}, {53, 75}},
  {{7, 48}, {-6, -29}},
  {{47, 22}, {34, 44}},
  {{6, 54}, {-87, -84}},
  {{90, 102}, {-52, 24}},
  {{25, 34}, {-84, -69}},
  {{59, 78}, {9, 37}},
  {{74, 55}, {81, 70}},
  {{86, 90}, {5, -55}},
  {{80, 47}, {97, -91}},
  {{45, 5}, {-40, 6}},
  {{26, 94}, {43, 14}},
  {{35, 84}, {41, -85}},
  {{72, 86}, {-49, -98}},
  {{64, 33}, {79, -98}},
  {{87, 58}, {-24, 12}},
  {{6, 13}, {-17, 31}},
  {{89, 47}, {19, -69}},
  {{19, 24}, {-76, -43}},
  {{17, 72}, {12, 66}},
  {{38, 49}, {61, -95}},
  {{39, 24}, {28, -83}},
  {{56, 27}, {48, 79}},
  {{62, 47}, {-65, -30}},
  {{59, 27}, {-77, 16}},
  {{54, 69}, {-66, -22}},
  {{34, 0}, {82, 33}},
  {{45, 13}, {75, 33}},
  {{54, 62}, {-99, -44}},
  {{27, 94}, {-1, 47}},
  {{61, 21}, {35, -28}},
  {{0, 39}, {60, -69}},
  {{97, 63}, {60, 38}},
  {{87, 94}, {-35, 51}},
  {{66, 5}, {42, -13}},
  {{3, 8}, {93, -27}},
  {{4, 67}, {16, -52}},
  {{47, 96}, {81, 18}},
  {{49, 15}, {-77, -49}},
  {{6, 92}, {-52, 62}},
  {{30, 46}, {-62, 86}},
  {{72, 25}, {-70, 79}},
  {{67, 18}, {-53, -94}},
  {{42, 40}, {28, -80}},
  {{27, 91}, {-98, -14}},
  {{42, 99}, {38, 8}},
  {{21, 16}, {-18, 7}},
  {{97, 33}, {40, 42}},
  {{2, 97}, {93, 25}},
  {{45, 69}, {83, 73}},
  {{39, 14}, {70, 6}},
  {{51, 36}, {-42, 82}},
  {{2, 2}, {-52, -60}},
  {{62, 22}, {-88, 42}},
  {{60, 86}, {-41, -68}},
  {{42, 11}, {76, 57}},
  {{27, 76}, {52, -92}},
  {{16, 22}, {-36, -51}},
  {{5, 34}, {-27, -61}},
  {{76, 60}, {77, -84}},
  {{44, 37}, {69, 3}},
  {{20, 65}, {10, -51}},
  {{65, 47}, {-95, 70}},
  {{45, 2}, {83, -53}},
  {{31, 75}, {-25, -63}},
  {{87, 38}, {-8, -32}},
  {{41, 29}, {-56, -54}},
  {{10, 65}, {17, 51}},
  {{17, 12}, {-12, 13}},
  {{61, 44}, {22, -39}},
  {{21, 61}, {-1, -15}},
  {{13, 52}, {-41, -10}},
  {{1, 26}, {53, 20}},
  {{62, 59}, {-57, -40}},
  {{66, 16}, {-33, 94}},
  {{50, 71}, {24, 95}},
  {{1, 27}, {-50, 83}},
  {{98, 90}, {29, 98}},
  {{80, 69}, {-19, 31}},
  {{19, 41}, {39, -67}},
  {{48, 36}, {-75, 19}},
  {{12, 92}, {65, -86}},
  {{29, 91}, {-91, 6}},
  {{20, 49}, {65, 12}},
  {{53, 91}, {95, 30}},
  {{63, 97}, {-70, 91}},
  {{29, 53}, {-16, 67}},
  {{41, 30}, {-7, 53}},
  {{18, 81}, {32, -49}},
  {{22, 62}, {54, -66}},
  {{91, 80}, {51, -8}},
  {{12, 81}, {56, -74}},
  {{50, 46}, {-11, 27}},
  {{25, 52}, {-69, -14}},
  {{9, 83}, {58, -8}},
  {{42, 47}, {-27, 23}},
  {{71, 85}, {69, -72}},
  {{44, 102}, {94, 38}},
  {{63, 83}, {-14, 9}},
  {{82, 67}, {31, 92}},
  {{58, 22}, {-89, -9}},
  {{48, 72}, {-42, -55}},
  {{56, 88}, {-77, 18}},
  {{39, 39}, {-6, -54}},
  {{34, 48}, {-3, -36}},
  {{52, 81}, {58, -42}},
  {{23, 87}, {56, 62}},
  {{74, 56}, {-47, -18}},
  {{45, 1}, {-93, -20}},
  {{62, 10}, {2, -5}},
  {{14, 82}, {72, -93}},
  {{28, 21}, {-78, 20}},
  {{1, 52}, {-72, 56}},
  {{19, 57}, {-1, 78}},
  {{32, 67}, {-16, -77}},
  {{98, 22}, {86, 24}},
  {{10, 21}, {-72, 7}},
  {{52, 32}, {68, 78}},
  {{83, 54}, {-50, 51}},
  {{9, 82}, {-64, 52}},
  {{75, 41}, {-62, -59}},
  {{45, 65}, {11, -44}},
  {{74, 79}, {66, -4}},
  {{66, 2}, {13, -7}},
  {{43, 91}, {81, 6}},
  {{1, 52}, {-94, -99}},
  {{20, 86}, {-23, 80}},
  {{80, 11}, {-4, -9}},
  {{19, 58}, {-23, 92}},
  {{58, 102}, {13, -82}},
  {{84, 70}, {53, -44}},
  {{15, 100}, {54, 2}},
  {{93, 66}, {29, -44}},
  {{27, 8}, {39, 35}},
  {{2, 41}, {25, -3}},
  {{69, 102}, {57, 81}},
  {{79, 42}, {-90, 85}},
  {{1, 82}, {-89, -33}},
  {{3, 74}, {-54, -11}},
  {{49, 100}, {-22, 58}},
  {{47, 78}, {-5, -16}},
  {{97, 82}, {-26, -4}},
  {{67, 72}, {-24, 92}},
  {{50, 33}, {50, -14}},
  {{52, 28}, {-77, -61}},
  {{0, 35}, {-30, -43}},
  {{24, 29}, {34, 90}},
  {{1, 49}, {97, 6}},
  {{67, 97}, {-79, 76}},
  {{65, 75}, {-57, 33}},
  {{6, 70}, {-74, -62}},
  {{27, 43}, {-25, -76}},
  {{27, 101}, {-80, 73}},
  {{31, 56}, {54, 89}},
  {{91, 44}, {51, -39}},
  {{86, 29}, {18, 11}},
  {{99, 10}, {23, 10}},
  {{73, 83}, {99, -46}},
  {{93, 82}, {-85, 88}},
  {{98, 17}, {-99, -73}},
  {{7, 57}, {42, 4}},
  {{14, 39}, {-81, -28}},
  {{80, 92}, {16, -97}},
  {{0, 42}, {-8, 51}},
  {{23, 7}, {69, -42}},
  {{63, 42}, {-44, 78}},
  {{88, 21}, {64, 13}},
  {{88, 41}, {-17, 23}},
  {{16, 102}, {46, -22}},
  {{31, 56}, {30, -58}},
  {{51, 84}, {52, 99}},
  {{31, 68}, {65, -92}},
  {{98, 90}, {14, -48}},
  {{93, 47}, {27, 12}},
  {{99, 52}, {-96, -47}},
  {{58, 47}, {-51, -58}},
  {{75, 91}, {-50, 85}},
  {{15, 4}, {89, -27}},
  {{19, 80}, {34, 18}},
  {{47, 84}, {-70, -41}},
  {{53, 11}, {-9, -64}},
  {{15, 34}, {-23, -3}},
  {{65, 5}, {2, 54}},
  {{35, 1}, {-91, -99}},
  {{53, 93}, {-86, 47}},
  {{41, 82}, {-74, -68}},
  {{8, 17}, {5, 16}},
  {{13, 98}, {-67, 47}},
  {{12, 81}, {80, 51}},
  {{36, 48}, {8, 93}},
  {{45, 87}, {6, 14}},
  {{54, 53}, {81, -73}},
  {{18, 7}, {-67, 72}},
  {{73, 81}, {40, 44}},
  {{98, 1}, {71, -12}},
  {{6, 15}, {36, -35}},
  {{10, 28}, {54, 1}},
  {{5, 12}, {-80, -86}},
  {{42, 49}, {2, -32}},
  {{28, 47}, {-38, -10}},
  {{31, 32}, {85, 20}},
  {{6, 46}, {17, -70}},
  {{27, 63}, {-94, 48}},
  {{78, 32}, {-6, 60}},
  {{44, 38}, {-7, 60}},
  {{2, 86}, {-54, -30}},
  {{38, 83}, {59, 69}},
  {{58, 65}, {42, -66}},
  {{22, 10}, {-69, 79}},
  {{96, 55}, {80, 82}},
  {{42, 94}, {61, 95}},
  {{37, 36}, {39, 86}},
  {{15, 55}, {-56, -77}},
  {{26, 10}, {-36, -90}},
  {{94, 59}, {51, 66}},
  {{81, 36}, {51, 64}},
  {{5, 44}, {-32, 24}},
  {{52, 60}, {-42, -66}},
  {{92, 24}, {51, 90}},
  {{5, 3}, {-87, 76}},
  {{97, 97}, {-8, -1}},
  {{57, 93}, {-62, 51}},
  {{9, 56}, {-35, -19}},
  {{89, 77}, {-47, -40}},
  {{86, 41}, {-50, 1}},
  {{39, 75}, {63, -17}},
  {{68, 64}, {-15, -85}},
  {{9, 13}, {74, -72}},
  {{7, 78}, {-76, 51}},
  {{35, 45}, {-71, -25}},
  {{85, 77}, {-15, 58}},
  {{65, 100}, {51, 6}},
  {{88, 26}, {77, 42}},
  {{37, 25}, {-58, 1}},
  {{81, 19}, {-64, 56}},
  {{100, 22}, {-52, 35}},
  {{83, 69}, {-26, -88}},
  {{99, 24}, {-78, -61}},
  {{40, 49}, {-29, 19}},
  {{37, 24}, {52, 57}},
  {{37, 28}, {6, -65}},
  {{34, 71}, {-86, 74}},
  {{61, 20}, {96, -83}},
  {{35, 71}, {-49, 99}},
  {{53, 70}, {6, -19}},
  {{91, 40}, {5, -91}},
  {{98, 67}, {76, 96}},
  {{87, 92}, {22, -46}},
  {{39, 97}, {70, -60}},
  {{20, 8}, {81, -18}},
  {{59, 67}, {-13, 26}},
  {{86, 22}, {-43, -47}},
  {{69, 56}, {78, -90}},
  {{9, 42}, {34, 85}},
  {{48, 46}, {23, -33}},
  {{45, 54}, {-95, -95}},
  {{1, 84}, {27, 32}},
  {{88, 84}, {62, -85}},
  {{11, 12}, {12, 38}},
  {{89, 8}, {70, 57}},
  {{47, 5}, {30, 28}},
  {{52, 22}, {89, 20}},
  {{48, 90}, {-97, 58}},
  {{44, 24}, {98, 50}},
  {{21, 49}, {-27, 52}},
  {{93, 22}, {16, 35}},
  {{44, 80}, {4, -8}},
  {{72, 29}, {-46, -35}},
  {{19, 63}, {25, -51}},
  {{66, 15}, {44, 61}},
  {{3, 35}, {-41, 53}},
  {{93, 19}, {49, -46}},
  {{14, 56}, {67, -73}},
  {{8, 22}, {-22, -2}},
  {{79, 60}, {-64, -97}},
  {{99, 18}, {95, -9}},
  {{54, 102}, {70, 10}},
  {{58, 78}, {-75, 66}},
  {{90, 94}, {51, 3}},
  {{88, 40}, {5, -76}},
  {{57, 4}, {-38, -9}},
  {{88, 89}, {-50, 62}},
  {{55, 48}, {24, -84}},
  {{56, 77}, {92, -33}},
  {{27, 44}, {-90, -61}},
  {{39, 66}, {4, 85}},
  {{37, 31}, {-93, -72}},
  {{54, 52}, {70, -88}},
  {{93, 91}, {91, 53}},
  {{88, 66}, {-39, -81}}
};

static char mirror[X*Y];

static int reflection(struct robot *r) {
  int k;
  k = abs(XM - r->p.x);
  if (k == 0) return -1;
  return k + (r->p.y * X);
}

static void simulate1(struct robot *r) {
  r->p.x = (r->p.x + r->v.x) % X;
  r->p.y = (r->p.y + r->v.y) % Y;
}

int main(int argc, char *argv[]) {
  size_t i, r;
  int j, m;
  for (i = 1; i < 10000000; i++) {
    if ((i % 100000) == 0) {
      printf(".");
      fflush(stdout);
    }
    memset(mirror, 0, sizeof(mirror));
    for (r = 0, m = 0; r < nrobots; r++) {
      simulate1(robots+r);
      j = reflection(robots+r);
      /* skip centerpoint */
      if (j < 0) continue;
      /* bail if there's no way to reach symmetry */
      if (m > (nrobots - r)) break;
      /* otherwise add this index or remove it */
      if (mirror[j]) {
	mirror[j] = 0; m--;
      } else {
	mirror[j] = 1; m++;
      }
    }
    if (m == 0) {
      printf("⌣ %lu\n", i);
      return 0;
    }
  }
  printf("⌢\n");
  return 1;
}
